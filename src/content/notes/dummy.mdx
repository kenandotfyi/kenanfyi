---
draft: true
title: "Dummy Post"
description: "Caddyfile for MediaWiki"
status: done
type: note
tags: ["dev-stuff"]
pubDate: 2024-09-07, 15:36
updated: 2024-09-07, 15:36
backlinks: [""]
forwards: [""]
---

import Code from "../../components/Code.astro";
import CodeInline from "../../components/CodeInline.astro";
import Figure from "../../components/Figure.astro";
import Sn from "../../components/Sn.astro";
import Mn from "../../components/Mn.astro";

I was trying to run a MediaWiki instance on my dummy server and wanted to serve it using the Caddy
this time. Apache and Nginx configurations are fairly straightforward and easy to find, but Caddy
-since it's fairly new- could be difficult if you are trying to do some non-standard stuff. As I
have successfully executed it with the desired configuration, I wanted to document my observations.

> on with the so-called ShortURLs. This requires some setup in the Caddyfile:

trying to run a MediaWiki instance on my dummy server and wanted to serve it using the Caddy
this time. Apache and Nginx configurations are fairly straightforward and easy to find, but Caddy
-since it's fairly new- could be difficult if you are trying to do some non-standard stuff. As I
have successfully execute

<Code file="Caddyfile">
```nginx
your.domain{
    @title {
        not file {
            try_files {path} {path}/
            split_path .php
        }
        path_regexp title ^/(.*)$
    }
    rewrite @title /index.php?title={re.title.1}&{query}  // [!code highlight]
    root * /var/www/html/mw #this might be mediawiki for you
    php_fastcgi unix//var/run/php/php-fpm.sock # serving php applications
    file_server
}
```
</Code>

This configuration redirects the ugly MediaWiki URLs to a more structured **/wiki/Main_page** type.
Further explanations are [here](https://www.mediawiki.org/wiki/Manual:Short_URL).

# Header 1

e. Apache and Nginx configurations are fairly straightforward and easy to find, but Caddy -since it's fairly new- could be difficult if you are trying to do some non-standard stuff. As I have
successfully

## Header 2

So, open source is good, open source is the way that we should develop software. But there is still
a catch between open and closed source software, where the distinction is not only on the philosophy
itself, but also on the people using it:

<Figure caption="test">![](../../assets/ferris-clap.gif)</Figure>

### Header 3

e. Apache and Nginx configurations are fairly straightforward and easy to find, but Caddy -since
it's fairly new- could be difficult<Sn id="b">Code Blocks todo</Sn> if you are trying to do some non-standard stuff. As I have
successfully

#### Header 4

e. Apache and Nginx configurations are fairly straightforward and easy to find, but Caddy -since
it's fairly<Sn id="c" img="/img/rhino.png">Side **Note** _italics_ and [link](/)</Sn> new- could be difficult if you are trying to do some non-standard stuff. As I have
successfully

<hr />

<Code file="LocalSettings.php">

```php
$wgScriptPath = "";
$wgArticlePath = "/wiki/$1"; #for redirecting to
/wiki/ $wgUsePathInfo = true;
```

</Code>

Reload the Caddy config:

<Code file="terminal">

```bash
 caddy reload --config /etc/caddy/Caddyfile
```

</Code>

Done.
